{% extends "layout-3.html" %}

{% block title %}
T-log mypage
{% endblock %}

{% block content %}

<div class="container mt-3" >
    <h1 class="text-center heading">My page</h1>
    <div class="line-container">
        <hr class="text-center heading-line">
    </div>
    <h4 class="header">Register Data</h4>
    <hr width="200" align="left">
    <table class="table">
        <tbody>
            <tr>
                <td>email</td>
                <td>{{ email }}</td>
            </tr>
            <tr>
                <td>user name</td>
                <td>{{ user_name }}</td>
            </tr>
            <tr>
                <td>register date</td>
                <td>{{ register_date }}</td>
            </tr>
            <tr>
                <td>いいね総数</td>
                <td>{{ likes_sum }}</td>
            </tr>
        </tbody>
    </table>
    <a class="btn btn-primary right" href="/mypage/{{ user_id }}" role="button" >Your posts  ▶</a>

</div>


<!-- planの表示 -->
<div class="plans-body mt-5" >
    <div class="container">
        <h3 align="left" class="heading">Posts {{user_name}} liked</h3>
        <hr width="200" align="left" style="margin-bottom:0">
    </div>
    <div class="plan-grid-layout">
        {% for plan in plans %}
            <div class="plan-grid-item">
                <!-- 以下に値を渡す -->
                <a href="{{ url_for('plan_content',user_id=plan["user_id"],post_id=plan["id"]) }}">
                    <div class="thumbnail">
                        <img src="https://img.youtube.com/vi/{{ plan["video_id"] }}/maxresdefault.jpg" alt="picture">
                    </div>
                </a>
                    <div class="plan-info">
                        <div class="plan-user-info">
                            <img class="plan-profile__img" src="../static/img/profile01.jpeg" width ="45" height="45" alt="profile">
                        </div>
                        <div class="plan-details">
                        <a href="{{ url_for('plan_content',user_id=plan["user_id"],post_id=plan["id"]) }}">
                            <h3>{{ plan["title"] }}</h3>
                        </a>
                        <p>{{plan["name"]}}</p>
                        </div>
                    </div>
            </div>
            
        {% endfor %}
    
    </div>
    <div class="pagination">
        <!--(1)前のページ-->
        {% if (CurPage - 1) > 0 %}
        <a href="plans?page={{ CurPage - 1}}" class="btn btn-outline-primary">{{ CurPage - 1}}</a>
        {% endif %}

        <!--(1)現在のページ-->
        <li class="page-item active">
            <a href="#" class="btn btn-outline-secondary">{{ CurPage }}</a>
        </li>
        <!--(2)次のページ-->
        {% if (CurPage + 1) <= MaxPage %}
        <a href="plans?page={{ CurPage + 1}}" class="btn btn-outline-primary">{{ CurPage + 1}}</a>
        {% endif %}
    </div>

</div>

{% endblock %}